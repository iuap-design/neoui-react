@import "../../wui-core/scss/minxin-mixins";

//$radio-prefix-cls: $prefix-cls + 'radio';

$radio-icon-width:14px;
$radio-icon-height:14px;
$radio-icon-checked-width: 6px;
$radio-icon-checked-height: 6px;

@mixin radio-colors($color) {
	&.is-checked {
		&.#{$radio-prefix-cls}-hovered .#{$radio-prefix-cls}-label:before {
			// background: $color;
			background: var(--#{$radio-prefix-cls}-color-bg) !important;
			box-shadow: unset !important;
			border-color: var(--#{$radio-prefix-cls}-color-border-hover) !important;
		}
		.#{$radio-prefix-cls}-label:after {
			background: $color;
			// background-color: var(--#{$radio-prefix-cls}-color-bg);
			// box-shadow: inset 0 0 0 10px $radio-bg-color;
		}
	}
	.#{$radio-prefix-cls}-label {
		color: $color;
	}
	&.is-checked.#{$radio-prefix-cls}-inverse .#{$radio-prefix-cls}-label {
		&:before {
			box-shadow: inset 0 0 0 10px $color;
			border-color: $radio-bg-color;
		}
		&:after {
			background: $brand-light;
		}
	}
}
@mixin radio-space-size($size) {
	.#{$radio-prefix-cls}-button {
		margin-right: $size;
		
	}
	:last-child {
		margin-right: 0;
	}
	
}

.#{$radio-prefix-cls}-group {
	position: relative;
	display: inline-block;
}
/*!rtl:begin:ignore*/
.#{$radio-prefix-cls}-group {
	.#{$radio-prefix-cls}-button:first-child:not(:last-child):not(.dropdown-toggle) {
	    border-top-right-radius: 0 ;
	    border-bottom-right-radius: 0;
	}

	.#{$radio-prefix-cls}-button:not(:first-child):not(:last-child):not(.dropdown-toggle) {
	    border-radius: 0;
	}
	.#{$radio-prefix-cls}-button {
		position: relative;
    	float: left;
		display: inline-flex;
		align-items: center;
	    padding: 0 8px;
        min-width: 40px;
		height: 22px;
	    margin-bottom: 0;
	    font-size: var(--#{$radio-prefix-cls}-button-font-size);
	    font-weight: var(--#{$radio-prefix-cls}-button-font-weight);
	    text-align: center;
	    white-space: nowrap;
	    vertical-align: middle;
	    touch-action: manipulation;
	    cursor: pointer;
	    user-select: none;
	    background-image: none;
	    border: var(--#{$radio-prefix-cls}-border-width-button) solid transparent;
		/*!rtl:ignore*/
	    border-radius: var(--#{$radio-prefix-cls}-border-radius-button);
	    color: var(--#{$radio-prefix-cls}-button-color-text);
	    background-color: var(--#{$radio-prefix-cls}-color-bg-button);
		border-color: var(--#{$radio-prefix-cls}-color-border-button);
		z-index: 10;

		
		&:first-child {
		    margin-left: 0;

		    border-radius: var(--#{$radio-prefix-cls}-border-radius-button) 0 0 var(--#{$radio-prefix-cls}-border-radius-button);
		}
		&:last-child {
			border-radius: 0 var(--#{$radio-prefix-cls}-border-radius-button) var(--#{$radio-prefix-cls}-border-radius-button) 0;
			border-right: 1px solid var(--#{$radio-prefix-cls}-color-border-button);
	    }

	    &.#{$radio-prefix-cls}-button-lg {
		    height: var(--#{$radio-prefix-cls}-size-height-lg-button);
		    line-height: var(--#{$radio-prefix-cls}-size-height-lg-button);
	    }
	    &.#{$radio-prefix-cls}-button-md {
		    height: var(--#{$radio-prefix-cls}-size-height-md-button);
		    line-height:var(--#{$radio-prefix-cls}-size-height-md-button);
	    }
	    &.#{$radio-prefix-cls}-button-sm {
		    height: var(--#{$radio-prefix-cls}-size-height-xs-button);
		    line-height: var(--#{$radio-prefix-cls}-size-height-xs-button);
		    // padding: 0 12px; // 风格保持一致
	    }
	    &.sm:first-child {
	    	border-radius: 2px 0 0 2px;
	    }

		&:hover,
		&:focus {
	    	position: relative;
		}
		input {
			bottom: 0;
			box-sizing: border-box;
			cursor: pointer;
			left: 0px;
			opacity: 0;
			padding: 0;
			position: absolute;
			right: 0;
			top: 0px;
			width: 100%;
			height: 100%;
			z-index: 3;
		}
		&.is-checked {
			background-color: var(--#{$radio-prefix-cls}-color-bg-button-selected);
			border-color: $hover-color-base;
			.#{$radio-prefix-cls}-button-label {
				//color: #333;
				color: var(--#{$radio-prefix-cls}-button-color-text-selected);
			}
			&.disabled,&.disabled:hover {
				// border-color: #EEEEEE;
				border-color: var(--wui-radio-color-border-button-disabled);
				background-color: var(--#{$radio-prefix-cls}-bg-button-radio-disabled-selected);
			}
			&.disabled .#{$radio-prefix-cls}-button-label {
				// color: #fff;
				color: var(--#{$radio-prefix-cls}-button-color-text-disabled);
			}
		}
		&.disabled {
			z-index: 1;
			border-color: var(--#{$radio-prefix-cls}-color-border-button-disabled);
		    background-color: var(--#{$radio-prefix-cls}-color-bg-button-disabled);
		    cursor: not-allowed;
		    color: var(--#{$radio-prefix-cls}-button-color-text-disabled);
		    span, input[type='radio'] {
		    	cursor: not-allowed;
			}
			&:hover {
				border-color: #eee;
				background-color: var(--#{$radio-prefix-cls}-color-bg-button-disabled);
				color: #999;
				box-shadow: none;
				cursor: not-allowed;
			}
	    }

		&:focus, &.focus, &:active, &.active, &.is-checked {
			border-color: var(--#{$radio-prefix-cls}-color-border-button-selected);
			z-index: 12;
		}
		&:hover {
			border-color: var(--#{$radio-prefix-cls}-color-border-button-hover);
			background: var(--#{$radio-prefix-cls}-color-bg-button-hover);
			z-index: 11;
		}
		.#{$radio-prefix-cls}-button-label {
			width: 100%;
			height: 100%;
			display: inline-flex;
			align-items: center;
			justify-content: center;
		}
	}
	$radio-size-arr: "sm" "md" "lg";
	$radio-size-value-arr: 4px 8px 10px;
	$i: 1;
	@each $var in $radio-size-arr {
		&.#{$radio-prefix-cls}-group-space-#{$var} {
			@include  radio-space-size(nth($radio-size-value-arr, $i))
		}
		$i: $i + 1
	}
}
		/*!rtl:end:ignore*/

/*!rtl:begin:ignore*/
[dir="rtl"] .#{$radio-prefix-cls}-group {
	.#{$radio-prefix-cls}-button {
		&:first-child {
		    margin-left: -1px;
			border-radius: var(--#{$radio-prefix-cls}-border-radius-button);
			border-bottom-left-radius: 0;
    		border-top-left-radius: 0;
		}
		&:last-child {
			border-radius: var(--#{$radio-prefix-cls}-border-radius-button);
			border-bottom-right-radius: 0;
    		border-top-right-radius: 0;
		}
	}
}
/*!rtl:end:ignore*/

.#{$radio-prefix-cls}-group .#{$radio-prefix-cls}-button+.#{$radio-prefix-cls}-button,
.#{$radio-prefix-cls}-group .#{$radio-prefix-cls}-button+.#{$radio-prefix-cls}-group,
.#{$radio-prefix-cls}-group .#{$radio-prefix-cls}-group+.#{$radio-prefix-cls}-button,
.#{$radio-prefix-cls}-group .#{$radio-prefix-cls}-group+.#{$radio-prefix-cls}-group {
    margin-left: -1px;
}

.#{$radio-prefix-cls} {
	position: relative;
	display: inline-block;
	input[type='radio'] {
		position: absolute;
		z-index: 3;
		cursor: pointer;
		opacity: 0;
		top: 1px;
		box-sizing: border-box;
		padding: 0;
		width: 14px;
		height: 14px;
	}
	&.is-checked {
		.#{$radio-prefix-cls}-label {
			&:before {
				box-shadow: inset 0 0 0 10px var(--#{$radio-prefix-cls}-color-bg-fill-radio-selected);
				border-color: var(--#{$radio-prefix-cls}-color-bg-fill-radio-selected);
			}
			&:after {
				position: absolute;
				border-radius: 4px;
				height: $radio-icon-checked-height;
				width: $radio-icon-checked-width;
				margin-left: 5px;
				background: var(--#{$radio-prefix-cls}-color-bg-dot-fill-selected);
			}
		}
		&.#{$radio-prefix-cls}-hovered .#{$radio-prefix-cls}-label {
			&:before {
				border-color: var(--#{$radio-prefix-cls}-color-bg-fill-radio-selected-hover);
			}
		}
		&.#{$radio-prefix-cls}-inverse .#{$radio-prefix-cls}-label {
			&:before {
				box-shadow: unset;
				border-color: $border-color-base;
			}
			&:after {
				// background: var(--#{$radio-prefix-cls}-color-bg-dot-fill-selected);
				background: var(--#{$radio-prefix-cls}-color-bg-fill-selected);
			}
		}
		&.#{$radio-prefix-cls}-inverse.#{$radio-prefix-cls}-hovered .#{$radio-prefix-cls}-label {
			&:before {
				border: 1px solid var(--#{$radio-prefix-cls}-color-border-hover);
			}
		}
		&.disabled .#{$radio-prefix-cls}-label,
		&.#{$radio-prefix-cls}-read-only .#{$radio-prefix-cls}-label {
			// color: var(--#{$radio-prefix-cls}-color-text-disabled);
			&:before {
				box-shadow: unset;
				border-color: var(--#{$radio-prefix-cls}-color-bg-fill-radio-selected-disabled);
                background: var(--#{$radio-prefix-cls}-color-bg-fill-radio-selected-disabled);
			}
			&::after {
				background: var(--#{$radio-prefix-cls}-color-bg-dot-fill-selected);
			}
		}
		&.disabled.#{$radio-prefix-cls}-inverse .#{$radio-prefix-cls}-label,
		&.#{$radio-prefix-cls}-read-only.#{$radio-prefix-cls}-inverse .#{$radio-prefix-cls}-label {
			color: var(--#{$radio-prefix-cls}-color-text-disabled);
			&:before {
				box-shadow: unset;
				border-color: var(--#{$radio-prefix-cls}-color-border-disabled);
                background: var(--#{$radio-prefix-cls}-color-bg-disabled);
			}
			&::after {
				background: var(--#{$radio-prefix-cls}-color-bg-selected-disabled);
			}
		}
		&.disabled .#{$radio-prefix-cls}-label, &.disabled.#{$radio-prefix-cls}-inverse .#{$radio-prefix-cls}-label {
			color: var(--#{$radio-prefix-cls}-color-text-disabled);
		}
	}
	&.disabled {
		.#{$radio-prefix-cls}-label {
			color: $radio-disabled-color;
		}
	}
	&.disabled,
	&.#{$radio-prefix-cls}-read-only {
		cursor: not-allowed;
		input[type='radio'] {
			cursor: not-allowed;
		}
		.#{$radio-prefix-cls}-label {
			cursor: not-allowed;
			&:before {
				border-color: var(--#{$radio-prefix-cls}-color-border-fill-radio-disabled);
                background: var(--#{$radio-prefix-cls}-color-bg-fill-radio-disabled);
			}
		}
	}
	&.disabled.#{$radio-prefix-cls}-inverse,
	&.#{$radio-prefix-cls}-read-only.#{$radio-prefix-cls}-inverse {
		.#{$radio-prefix-cls}-label {
			&:before {
				border-color: var(--#{$radio-prefix-cls}-color-border-disabled);
                background: var(--#{$radio-prefix-cls}-color-bg-disabled);
			}
		}
	}
	&.disabled.is-checked .#{$radio-prefix-cls}-label {
		color: var(--#{$radio-prefix-cls}-color-text-disabled);
		&:after {
			background: var(--#{$radio-prefix-cls}-color-bg-dot-fill-selected);
		}
	}
	.#{$radio-prefix-cls}-label {
		font-size: var(--#{$radio-prefix-cls}-font-size);
		font-weight: var(--#{$radio-prefix-cls}-font-weight);
		cursor: pointer;
	    display: inline-flex;
		align-items: center;
	    position: relative;
	    padding-left: 24px;
	    margin-right: 20px;
		color: var(--#{$radio-prefix-cls}-color-text);
	    &:before {
		    border-radius: 50%;
		    border: 1px solid var(--#{$radio-prefix-cls}-color-border-fill-radio);
		    background-color: var(--#{$radio-prefix-cls}-color-bg-fill-radio);
		    content: '';
		    font-family: 'uf';
		    display: inline-block;
		    width: $radio-icon-width;
		    height: $radio-icon-height;
		    left: 0;
		    text-align: center;
		    position: absolute;
			top: calc( 50% - 7px );
		}
		&:after {
			content: '';
		    font-family: 'uf';
		    display: inline-block;
		    width: $radio-icon-width;
		    height: $radio-icon-height;
			// background-color: var(--#{$radio-prefix-cls}-color-bg-fill);
		    left: -1px;
		    text-align: center;
		    position: absolute;
			top: calc( 50% - 3px );
		}

		&-no-content {
			visibility: hidden;
			width: 1px;
		}
	}
	&.#{$radio-prefix-cls}-inverse .#{$radio-prefix-cls}-label {
		&:before {
			border: 1px solid var(--#{$radio-prefix-cls}-color-border);
		    background-color: var(--#{$radio-prefix-cls}-color-bg);
		}
		// &:after {
		// 	background: $brand-light;
		// }
	}
}

$radio-colors-str-arr: "success" "warning" "danger" "dark" "info";
$radio-colors-arr: $radio-success-bg, $radio-warning-bg, $radio-danger-bg, $radio-dark-bg, $radio-info-bg;
$i: 1;
@each $var in $radio-colors-str-arr {
	.#{$radio-prefix-cls}.#{$radio-prefix-cls}-#{$var} {
		@include radio-colors(nth($radio-colors-arr, $i))
	}
	$i: $i + 1
}

.#{$radio-prefix-cls}.#{$radio-prefix-cls}-success,
.#{$radio-prefix-cls}.#{$radio-prefix-cls}-warning,
.#{$radio-prefix-cls}.#{$radio-prefix-cls}-danger,
.#{$radio-prefix-cls}.#{$radio-prefix-cls}-info,
.#{$radio-prefix-cls}.#{$radio-prefix-cls}-dark {
	&.is-checked {
		.#{$radio-prefix-cls}-label:before {
		    box-shadow: inset 0 0 0 10px $radio-bg-color;
		    border-color: $border-color-base;
		}
	}
}

.#{$radio-prefix-cls}:not(.is-checked):not(.#{$radio-prefix-cls}-inverse).#{$radio-prefix-cls}-hovered:not(.disabled):not(.#{$radio-prefix-cls}-read-only) {
	.#{$radio-prefix-cls}-label:before {
		border: 1px solid var(--#{$radio-prefix-cls}-color-border-fill-radio-hover);
	}
}
.#{$radio-prefix-cls}:not(.is-checked).#{$radio-prefix-cls}-hovered:not(.disabled):not(.#{$radio-prefix-cls}-read-only) {
	.#{$radio-prefix-cls}-label:before {
		border: 1px solid var(--#{$radio-prefix-cls}-color-border-hover);
	}
}
.#{$radio-prefix-cls}.is-checked:not(.#{$radio-prefix-cls}-inverse).#{$radio-prefix-cls}-hovered:not(.disabled):not(.#{$radio-prefix-cls}-read-only) {
	.#{$radio-prefix-cls}-label:before {
		background: var(--#{$radio-prefix-cls}-color-bg-fill-radio-selected-hover);
		box-shadow: inset 0 0 0 10px var(--#{$radio-prefix-cls}-color-bg-fill-radio-selected-hover);
		border-color: var(--#{$radio-prefix-cls}-color-bg-fill-radio-selected-hover);
	}
}
.#{$radio-prefix-cls}.#{$radio-prefix-cls}-no-content {
	vertical-align: super;
	.#{$radio-prefix-cls}-label{
		padding: 0;
		display: unset;
	}
}
